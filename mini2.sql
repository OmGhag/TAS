CREATE TABLE CMPN_UPDATE_TABLE(FROM_DATE DATE,TO_DATE DATE,FROM_TIME TIME, TO_TIME TIME,T_CODE VARCHAR(4), AVAILABLE BOOLEAN,REASON VARCHAR(1000));
SELECT * FROM CMPN_UPDATE_TABLE;
INSERT INTO CMPN_UPDATE_TABLE VALUES ('STARING DATE','ENDING DATE','STARTING TIME','ENDING DATE','TEACHER CODE WHO UPDATES','AVAILABILITY STATUS','REASON IF NOT');

CREATE TABLE SSO_TUESAY(FROM_TIME TIME, TO_TIME TIME,LOC VARCHAR(10), AVAILABLE BOOLEAN);
SELECT * FROM SSO_TUESDAY;
INSERT INTO SSO_TUESDAY VALUES('09:00','10:00','CMPN DEPT',TRUE);
INSERT INTO SSO_TUESDAY VALUES('10:00','11:00','CMPN DEPT',TRUE);
INSERT INTO SSO_TUESDAY VALUES('11:00','11:15','CMPN DEPT',FALSE);
INSERT INTO SSO_TUESDAY VALUES('11:15','12:15','M206',FALSE);
INSERT INTO SSO_TUESDAY VALUES('12:15','13:15','M206',FALSE);
INSERT INTO SSO_TUESDAY VALUES('13:15','13:45','CMPN DEPT',FALSE);
INSERT INTO SSO_TUESDAY VALUES('13:45','14:45','CMPN DEPT',TRUE);
INSERT INTO SSO_TUESDAY VALUES('14:45','15:45','CMPN DEPT',TRUE);
INSERT INTO SSO_TUESDAY VALUES('15:45','16:45','CMPN DEPT',TRUE);
DROP TABLE SSO_MONDAY;
CREATE TABLE SSO_MONDAY(FROM_TIME TIME, TO_TIME TIME,LOC VARCHAR(10), AVAILABLE BOOLEAN);
SELECT * FROM SSO_MONDAY;
INSERT INTO SSO_MONDAY VALUES('09:00','10:00','CMPN DEPT',TRUE);
INSERT INTO SSO_MONDAY VALUES('10:00','11:00','CMPN DEPT',TRUE);
INSERT INTO SSO_MONDAY VALUES('11:00','11:15','CMPN DEPT',FALSE);
INSERT INTO SSO_MONDAY VALUES('11:15','12:15','M314A',FALSE);
INSERT INTO SSO_MONDAY VALUES('12:15','13:15','M314A',FALSE);
INSERT INTO SSO_MONDAY VALUES('13:15','13:45','CMPN DEPT',FALSE);
INSERT INTO SSO_MONDAY VALUES('13:45','14:45','M314A',TRUE);
INSERT INTO SSO_MONDAY VALUES('14:45','15:45','M314A',TRUE);
INSERT INTO SSO_MONDAY VALUES('15:45','16:45','CMPN DEPT',TRUE);
UPDATE SSO_MONDAY SET AVAILABLE = FALSE WHERE LOC='M314A';

CREATE TABLE SSO_WEDNESDAY(FROM_TIME TIME, TO_TIME TIME,LOC VARCHAR(10), AVAILABLE BOOLEAN);
SELECT * FROM SSO_WEDNESDAY;
INSERT INTO SSO_WEDNESDAY VALUES('09:00','10:00','M314A',TRUE);
INSERT INTO SSO_WEDNESDAY VALUES('10:00','11:00','M314A',TRUE);
INSERT INTO SSO_WEDNESDAY VALUES('11:00','11:15','CMPN DEPT',FALSE);
INSERT INTO SSO_WEDNESDAY VALUES('11:15','12:15','M206',FALSE);
INSERT INTO SSO_WEDNESDAY VALUES('12:15','13:15','M206',FALSE);
INSERT INTO SSO_WEDNESDAY VALUES('13:15','13:45','CMPN DEPT',FALSE);
INSERT INTO SSO_WEDNESDAY VALUES('13:45','14:45','M314A',TRUE);
INSERT INTO SSO_WEDNESDAY VALUES('14:45','15:45','M314A',TRUE);
INSERT INTO SSO_WEDNESDAY VALUES('15:45','16:45','CMPN DEPT',TRUE);
UPDATE SSO_WEDNESDAY SET AVAILABLE = FALSE WHERE LOC='M314A';

CREATE TABLE SSO_THURSDAY(FROM_TIME TIME, TO_TIME TIME,LOC VARCHAR(10), AVAILABLE BOOLEAN);
SELECT * FROM SSO_THURSDAY WHERE FROM_TIME>='9:00' ORDER BY;
INSERT INTO SSO_THURSDAY VALUES('09:00','10:00','M314A',TRUE);
INSERT INTO SSO_THURSDAY VALUES('10:00','11:00','M314A',TRUE);
INSERT INTO SSO_THURSDAY VALUES('11:00','11:15','CMPN DEPT',FALSE);
INSERT INTO SSO_THURSDAY VALUES('11:15','12:15','M206',FALSE);
INSERT INTO SSO_THURSDAY VALUES('12:15','13:15','M206',FALSE);
INSERT INTO SSO_THURSDAY VALUES('13:15','13:45','CMPN DEPT',FALSE);
INSERT INTO SSO_THURSDAY VALUES('13:45','14:45','M314A',TRUE);
INSERT INTO SSO_THURSDAY VALUES('14:45','15:45','M314A',TRUE);
INSERT INTO SSO_THURSDAY VALUES('15:45','16:45','CMPN DEPT',TRUE);
UPDATE SSO_THURSDAY SET AVAILABLE = FALSE WHERE FROM_TIME>= '13:45' AND TO_TIME<='15:45' ;
UPDATE SSO_THURSDAY SET AVAILABLE = TRUE WHERE  FROM_TIME>= '11:15' AND TO_TIME<='13:15' ;

(select to_char(date '2023-04-18', 'Day'));
 
 DO $$ 
 DECLARE
  OUT_AVAIL BOOLEAN;
  IN_FROM_TIME SSO_MONDAY.FROM_TIME%TYPE := '13:45';
  IN_TO_TIME SSO_MONDAY.TO_TIME%TYPE := '14:45';
  OUT_LOC VARCHAR(10);
  BEGIN
  SELECT LOC, AVAILABLE FROM  SSO_MONDAY INTO OUT_LOC,OUT_AVAIL WHERE IN_FROM_TIME=FROM_TIME AND IN_TO_TIME=TO_TIME;
  IF OUT_AVAIL = TRUE THEN
  RAISE NOTICE 'SWAPNIL SIR IS AVAILABLE IN :%',OUT_LOC;
  ELSE
  RAISE NOTICE 'SWAPNIL SIR IS NOT AVAILABLE';
  END IF;
  END$$
  